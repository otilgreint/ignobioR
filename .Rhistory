ndvi.weight = 1, igno.weight = 1, dist.weight = 1)
samp_ex <- sampleboost(ndvi=ndvi_example, ignorance=mrfi_example, site=park,
nplot=40, plot_radius=100, perm=100,
ndvi.weight = 1, igno.weight = 1, dist.weight = 1)
source("~/.active-rstudio-document", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
best_boost <- st_read("~/R projects/ignobioR/SampleBoost_best_solution.csv")
best_boost <- st_read("~/R projects/ignobioR/SampleBoost_best-solution.csv")
# Read the CSV
best_solution_df <- read.csv("~/R projects/ignobioR/SampleBoost_best-solution.csv")
# Convert to sf object using x,y coordinates
best_solution_sf <- st_as_sf(best_solution_df,
coords = c("x", "y"),
crs = 3035)
# Read the CSV
best_solution_df <- read.csv("~/R projects/ignobioR/SampleBoost_best-solution.csv")
# Convert to sf object using x,y coordinates
best_solutionz <- st_as_sf(best_solution_df,
coords = c("x", "y"),
crs = 3035)
ordering <- sampling_order(best_solution_sf=best_solutionz,
n_clusters = 4,
method = "auto",
ndvi_weight = 1,
start_plot = 1)
view(ordering)
plot(ordering)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
ordering <- sampling_order(best_solution_sf=best_solutionz,
n_clusters = 4,
method = "auto",
ndvi_weight = 1,
start_plot = 13)
ordering <- sampling_order(best_solution_sf=best_solutionz,
method = "auto",
start_plot = 1)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park,
method = "auto",
start_plot = 1)
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
orderink <- sampling_order(best_solution_sf=best_solutionz, site=park)
# Check if your object has geometry
class(best_solutionz)
names(best_solutionz)
st_geometry_type(best_solutionz)
# If it doesn't show as sf with POINT geometry, convert it:
library(sf)
best_solution_df <- read.csv("SampleBoost_best-solution.csv")
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
# Then try again
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
# Check if your object has geometry
class(best_solutionz)
names(best_solutionz)
st_geometry_type(best_solutionz)
# If it doesn't show as sf with POINT geometry, convert it:
library(sf)
best_solution_df <- read.csv("SampleBoost_best-solution.csv")
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
# Then try again
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
# Check if your object has geometry
class(best_solutionz)
names(best_solutionz)
st_geometry_type(best_solutionz)
# If it doesn't show as sf with POINT geometry, convert it:
library(sf)
best_solution_df <- read.csv("SampleBoost_best-solution.csv")
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
# Then try again
ordering <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
orderink <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
orderink <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
orderink <- sampling_order(best_solution_sf=best_solutionz, site=park)
best_solution_df <- read.csv("SampleBoost_best-solution.csv")
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
library(sf)
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
orderink <- sampling_order(best_solution_sf=best_solutionz, site=park)
source("~/R projects/ignobioR/R/optimised_sampling.R", echo = TRUE)
ndvi_example <- rast(~/R projects/ignobioR/inst/extdata/ndvi_example.tif)
ndvi_example <- rast("~/R projects/ignobioR/inst/extdata/ndvi_example.tif")
library(terra)
ndvi_example <- rast("~/R projects/ignobioR/inst/extdata/ndvi_example.tif")
mrfi_example <- rast("~/R projects/ignobioR/inst/extdata/mrfi_example.tif")
dem_example <- rast("~/R projects/ignobioR/inst/extdata/dem_example.tif")
sample1 <- sampleboost(
ndvi = ndvi_example,
ignorance = mrfi_example,
site = park,
excl_areas = unsuitablezone,
dem = dem_example,
nplot = 50,
plot_radius = 5.64,
perm = 100
)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
best_solution_df <- read.csv("SampleBoost_best-solution.csv")
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
orderink <- sampling_order(best_solution_sf=best_solutionz, site=park, n_clusters = 2)
orderink <- sampling_order(best_solution_sf=best_solutionz, n_clusters = 2)
ndvi_example <- rast("~/R projects/ignobioR/inst/extdata/ndvi_example.tif")
library(terra)
library(sf)
ndvi_example <- rast("~/R projects/ignobioR/inst/extdata/ndvi_example.tif")
dem_example <- rast("~/R projects/ignobioR/inst/extdata/dem_example.tif")
mrfi_example <- rast("~/R projects/ignobioR/inst/extdata/mrfi_example.tif")
best_solution_df <- read.csv("SampleBoost_best-solution.csv")
best_solutionz <- st_as_sf(best_solution_df, coords = c("x", "y"), crs = 3035)
data(park)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
View(best_solutionz)
order1 <- sampling_order(best_solution_sf = best_solutionz)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
order2 <- sampling_order(best_solution_sf = best_solutionz, start_plot = "centroid")
source("~/R projects/ignobioR/R/optimised_sampling.R", echo = TRUE)
source("~/R projects/ignobioR/R/optimised_sampling.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
data("unsuitablezone")
data("floratus")
igno1 <- ignorance_map(data_flor = floratus, site 0)
igno1 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=1000, excl_areas = unsuitablezone)
igno1 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=1000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
igno2 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=1000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
igno3 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=1000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
igno3 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=1000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
igno3 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=1000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
igno4 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=5000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
igno5 <- ignorance_map(data_flor=floratus, site=park, tau=20, cellsize=2000, excl_areas = unsuitablezone, use_coverage_weighting = FALSE)
sample1 <- sampleboost(ndvi=ndvi_example, ignorance=mrfi_example, site=park, excl_areas = unsuitablezone,
samp_strategy = "random",
nplot=50, plot_radius=10, perm=200,
ndvi.weight = 1, igno.weight = 1, dist.weight = 1,
dem = dem_example)
project_root <- getwd()
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
data(floratus)
data(park)
data(unsuitablezone)
igno_out <- ignorance_map(data_flor=floratus, site=park, year_study = 2025, excl_areas = unsuitablezone,
CRS.new = 3035, tau=20, cellsize=1000, verbose = TRUE,
check_overlap = TRUE, output_dir = file.path(getwd(), "output"),
output_prefix = "MRFI", site_buffer = FALSE,
buffer_width = NULL,
mask_method = "touches",
use_coverage_weighting = FALSE)
igno_out <- ignorance_map(data_flor=floratus, site=park, year_study = 2025, excl_areas = unsuitablezone,
CRS.new = 3035, tau=20, cellsize=2000, verbose = TRUE,
check_overlap = TRUE, output_dir = file.path(getwd(), "output"),
output_prefix = "MRFI", site_buffer = FALSE,
buffer_width = NULL,
mask_method = "touches",
use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/virtual_list.R", echo = TRUE)
source("~/R projects/ignobioR/R/optimised_sampling.R", echo = TRUE)
source("~/R projects/ignobioR/R/sampling_order.R", echo = TRUE)
virt <- virtual_list(data_flor=floratus, site=park, year_study = NULL,
excl_areas = unsuitablezone, CRS.new = 3035,
tau=20, upperlimit = 20)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
list_sar_regions
list_sar_regions()
predict_richness(region = 'Tuscany', flora_type = 'total')
predict_richness(region = 'Tuscany', flora_type = 'total', area=250)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
predict_richness(region = 'Tuscany', flora_type = 'total', area=250)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
predict_richness(region = 'Tuscany', flora_type = 'total', area=250)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
predict_richness(region = 'Tuscany', flora_type = 'total', area=250)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
predict_richness(region = 'Tuscany', flora_type = 'total', area=250)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
# Take 70% of records for initial survey
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.7)
data(floratus)
data(park)
# Take 70% of records for initial survey
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.7)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
floratus_initial <- floratus[sample_rows, ]
floratus_updated <- floratus  # All records
# Create MRFIs
ignorance1 <- ignorance_map(data_flor = floratus_initial, site = park, cellsize = 1000, tau = 20)
ignorance2 <- ignorance_map(data_flor = floratus_updated, site = park, cellsize = 1000, tau = 20)
# Take 70% of records for initial survey
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.7)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
floratus_initial <- floratus[sample_rows, ]
floratus_updated <- floratus  # All records
# Create MRFIs
ignorance1 <- ignorance_map(data_flor = floratus_initial, site = park, cellsize = 1000, tau = 30)
# Take 70% of records for initial survey
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.7)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
floratus_initial <- floratus[sample_rows, ]
floratus_updated <- floratus  # All records
# Create MRFIs
ignorance1 <- ignorance_map(data_flor = floratus_initial, site = park, cellsize = 1000, tau = 30, use_coverage_weighting = FALSE)
# Create MRFIs
ignorance2 <- ignorance_map(data_flor = floratus_updated, site = park, cellsize = 1000, tau = 30, use_coverage_weighting = FALSE)
# Compare
comparison <- compare_mrfi(ignorance1, ignorance2)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
comparison <- compare_mrfi(ignorance1, ignorance2)
comparison <- compare_mrfi(ignorance1, ignorance2)
remove(comparison)
# Take 70% of records for initial survey
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
floratus_initial <- floratus[sample_rows, ]
floratus_updated <- floratus  # All records
# Create MRFIs
ignorance1 <- ignorance_map(data_flor = floratus_initial, site = park, cellsize = 1000, tau = 30, use_coverage_weighting = FALSE)
ignorance2 <- ignorance_map(data_flor = floratus_updated, site = park, cellsize = 1000, tau = 30, use_coverage_weighting = FALSE)
# Take 70% of records for initial survey
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
floratus_initial <- floratus[sample_rows, ]
floratus_updated <- floratus  # All records
# Create MRFIs
ignorance1 <- ignorance_map(data_flor = floratus_initial, site = park, cellsize = 1000, tau = 30, use_coverage_weighting = FALSE)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
ignorance2 <- ignorance_map(data_flor = floratus_updated, site = park, cellsize = 1000, tau = 30, use_coverage_weighting = FALSE)
comparison_test <- compare_mrfi(
mrfi_initial=ignorance1,
mrfi_updated=ignorance2)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_per_taxon.R", echo = TRUE)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_incremental.R", echo = TRUE)
source("~/R projects/ignobioR/R/predict_richness.R", echo = TRUE)
set.seed(123)  # For reproducibility
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
floratus_initial <- floratus[sample_rows, ]
floratus_updated <- floratus  # All records
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 2000
)
head(floratus_initial)
head(floratus_updated)
# Proper way to subset sf objects
set.seed(123)
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
# Use st_as_sf() after subsetting to fix geometry
floratus_initial <- sf::st_as_sf(floratus[sample_rows, ])
floratus_updated <- floratus
# Now it will work
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 2000
)
# Proper way to subset sf objects
set.seed(123)
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
# Use st_as_sf() after subsetting to fix geometry
floratus_initial <- sf::st_as_sf(floratus[sample_rows, ])
floratus_updated <- floratus
# Now it will work
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 2000;
# Proper way to subset sf objects
set.seed(123)
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
# Use st_as_sf() after subsetting to fix geometry
floratus_initial <- sf::st_as_sf(floratus[sample_rows, ])
floratus_updated <- floratus
# Now it will work
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 2000;
# Proper way to subset sf objects
set.seed(123)
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
# Use st_as_sf() after subsetting to fix geometry
floratus_initial <- sf::st_as_sf(floratus[sample_rows, ])
floratus_updated <- floratus
# Now it will work
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 2000,
use_coverage_weighting = FALSE
)
source("~/R projects/ignobioR/R/ignorance_incremental.R", echo = TRUE)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_incremental.R", echo = TRUE)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
# Proper way to subset sf objects
set.seed(123)
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
# Use st_as_sf() after subsetting to fix geometry
floratus_initial <- sf::st_as_sf(floratus[sample_rows, ])
floratus_updated <- floratus
# Now it will work
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
use_coverage_weighting = FALSE
)
# --- DEBUGGING BLOCK ---
print(paste("Rows in cell_data_valid:", ifelse(is.null(cell_data_valid), "NULL", nrow(cell_data_valid))))
Value = c(
...,
round(max_ignorance_baseline, 2),
length(baseline_per_taxon$taxon_names),
length(setdiff(new_per_taxon$taxon_names, baseline_per_taxon$taxon_names)),
length(combined_result$combined_names),
nrow(data_flor_new)
)
Value = c(
round(max_ignorance_baseline, 2),
length(baseline_per_taxon$taxon_names),
length(setdiff(new_per_taxon$taxon_names, baseline_per_taxon$taxon_names)),
length(combined_result$combined_names),
nrow(data_flor_new)
)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_per_taxon.R", echo = TRUE)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
# Proper way to subset sf objects
set.seed(123)
n_initial <- round(nrow(floratus) * 0.5)
sample_rows <- sample(1:nrow(floratus), size = n_initial, replace = FALSE)
# Use st_as_sf() after subsetting to fix geometry
floratus_initial <- sf::st_as_sf(floratus[sample_rows, ])
floratus_updated <- floratus
# Now it will work
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
use_coverage_weighting = FALSE
)
source("~/R projects/ignobioR/R/ignorance_incremental.R", echo = TRUE)
# Split by temporal cutoff (realistic scenario)
year_cutoff <- 2010
floratus_initial <- floratus[floratus$year <= year_cutoff, ]
floratus_updated <- floratus  # All data including post-2010
# Run comparison
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
year_initial = year_cutoff,
year_updated = max(floratus$year),
use_coverage_weighting = FALSE
)
# Check year distribution
summary(floratus$year)
table(floratus$year[floratus$year >= 2000])
# Or visualize
hist(floratus$year, breaks = 50, main = "Year distribution in floratus")
# Temporal split at 1970
year_cutoff <- 1970
floratus_initial <- floratus[floratus$year <= year_cutoff, ]
floratus_updated <- floratus  # All data up to 1985
# Check the split
cat("Initial records (≤1970):", nrow(floratus_initial), "\n")
cat("Updated records (all):", nrow(floratus_updated), "\n")
cat("New records (1971-1985):", nrow(floratus_updated) - nrow(floratus_initial), "\n")
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
year_initial = 1970,
year_updated = 1985,
use_coverage_weighting = FALSE
)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
# Temporal split at 1970
year_cutoff <- 1970
floratus_initial <- floratus[floratus$year <= year_cutoff, ]
floratus_updated <- floratus  # All data up to 1985
# Check the split
cat("Initial records (≤1970):", nrow(floratus_initial), "\n")
cat("Updated records (all):", nrow(floratus_updated), "\n")
cat("New records (1971-1985):", nrow(floratus_updated) - nrow(floratus_initial), "\n")
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
year_initial = 1970,
year_updated = 1985,
use_coverage_weighting = FALSE
)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_per_taxon.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_incremental.R", echo = TRUE)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
# Temporal split at 1970
year_cutoff <- 1970
floratus_initial <- floratus[floratus$year <= year_cutoff, ]
floratus_updated <- floratus  # All data up to 1985
# Check the split
cat("Initial records (≤1970):", nrow(floratus_initial), "\n")
cat("Updated records (all):", nrow(floratus_updated), "\n")
cat("New records (1971-1985):", nrow(floratus_updated) - nrow(floratus_initial), "\n")
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
year_initial = 1970,
year_updated = 1985,
use_coverage_weighting = FALSE
)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
# Temporal split at 1970
year_cutoff <- 1970
floratus_initial <- floratus[floratus$year <= year_cutoff, ]
floratus_updated <- floratus  # All data up to 1985
# Check the split
cat("Initial records (≤1970):", nrow(floratus_initial), "\n")
cat("Updated records (all):", nrow(floratus_updated), "\n")
cat("New records (1971-1985):", nrow(floratus_updated) - nrow(floratus_initial), "\n")
comparison <- compare_mrfi(
data_flor_initial = floratus_initial,
data_flor_updated = floratus_updated,
site = park,
tau = 20,
cellsize = 1000,
year_initial = 1970,
year_updated = 1985,
use_coverage_weighting = FALSE
)
source("~/R projects/ignobioR/R/compare_mrfi.R", echo = TRUE)
source("~/R projects/ignobioR/R/taxon_raster_helpers.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_incremental.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_per_taxon.R", echo = TRUE)
source("~/R projects/ignobioR/R/ignorance_map.R", echo = TRUE)
