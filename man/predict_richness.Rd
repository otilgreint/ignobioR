% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/predict_richness.R
\name{predict_richness}
\alias{predict_richness}
\title{Predict Species Richness Using Species-Area Relationship}
\usage{
predict_richness(
  area,
  method = "literature",
  region = "Italy",
  flora_type = "total",
  c = NULL,
  z = NULL,
  reference_data = NULL,
  coef_database = NULL,
  return_intervals = TRUE,
  confidence_level = 0.95,
  verbose = TRUE
)
}
\arguments{
\item{area}{Numeric. Study area in km². Can be a single value or vector.}

\item{method}{Character. One of:
\itemize{
  \item{"literature"}{ Use published c and z values (default)}
  \item{"custom"}{ Provide your own c and z coefficients}
  \item{"data"}{ Estimate c and z from reference flora data}
}}

\item{region}{Character. For method="literature", region name (e.g., "Italy", "Tuscany").
Use \code{list_sar_regions()} to see available regions.}

\item{flora_type}{Character. Type of flora for prediction:
\itemize{
  \item{"total"}{ All species (native + alien, default)}
  \item{"native"}{ Native species only}
  \item{"alien"}{ Alien species only}
}}

\item{c}{Numeric. Custom intercept coefficient (method="custom" only).}

\item{z}{Numeric. Custom slope coefficient (method="custom" only).}

\item{reference_data}{Data frame or path to CSV file containing reference
flora data with columns: 'area' (km²) and 'species' (species count).
Optional columns: 'native' and 'alien' counts for separate models.}

\item{coef_database}{Character. Optional path to custom SAR coefficient CSV.
If NULL, uses package defaults. CSV must have columns: region, country,
flora_type, c, z, R2, n_floras, source, doi, notes.}

\item{return_intervals}{Logical. If TRUE and method="data", returns
prediction intervals based on model fit (default = TRUE).}

\item{confidence_level}{Numeric. Confidence level for intervals (default = 0.95).}

\item{verbose}{Logical. Print progress messages (default = TRUE).}
}
\value{
A list with:
\itemize{
  \item{\code{prediction}}{Data frame with area and predicted richness}
  \item{\code{coefficients}}{Values of c and z used}
  \item{\code{intervals}}{Prediction intervals (if applicable)}
  \item{\code{model}}{Fitted model object (if method="data")}
  \item{\code{diagnostics}}{Model fit statistics (R², RMSE)}
}
}
\description{
Predicts expected species richness for a given area using the Arrhenius
power function (S = c × A^z). Provides multiple approaches: literature-based
coefficients from Mediterranean studies, custom user-defined coefficients,
or data-driven estimation from reference floras.
}
\details{
**Literature coefficients** (Arrhenius power function: S = c × A^z):

*Italy* (D'Antraccoli et al. 2024):
- Total: c=241.2, z=0.281 (R²=0.92, n=286 floras)
- Native: c=245.2, z=0.263 (R²=0.91)
- Alien: c=10.1, z=0.404 (R²=0.73)

*Tuscany* (D'Antraccoli et al. 2019):
- Total: c=303.4, z=0.246 (R²=0.87, n=67 floras)
- Native: c=314.6, z=0.229 (R²=0.86)
- Alien: c=12.0, z=0.272 (R²=0.56)

**Data-driven estimation**: Uses nonlinear least squares (nls) to fit
the power function to your reference flora dataset.

**Coefficient database**: The function searches for SAR coefficients in order:
\enumerate{
  \item{Custom user CSV (if coef_database provided)}
  \item{Package default CSV (inst/extdata/sar_coefficients.csv)}
  \item{Hardcoded fallback (Italy + Tuscany only)}
}
}
\examples{
\dontrun{
# Example 1: Predict richness for 100 km² using Italian coefficients
pred <- predict_richness(
  area = 100,
  method = "literature",
  region = "Italy",
  flora_type = "total"
)
print(pred$prediction)
# Expected: ~1470 species

# Example 2: Multiple areas
areas <- c(10, 50, 100, 500, 1000)
pred_multi <- predict_richness(
  area = areas,
  region = "Tuscany",
  flora_type = "native"
)

# Example 3: Custom coefficients
pred_custom <- predict_richness(
  area = 250,
  method = "custom",
  c = 280,
  z = 0.25
)

# Example 4: Estimate from your own data
my_floras <- data.frame(
  area = c(5, 15, 45, 120, 350),
  species = c(520, 890, 1340, 1820, 2450)
)

pred_data <- predict_richness(
  area = 200,
  method = "data",
  reference_data = my_floras,
  return_intervals = TRUE
)

# Example 5: Use custom coefficient database
pred_custom_db <- predict_richness(
  area = 150,
  region = "Liguria",
  coef_database = "~/my_sar_coefficients.csv"
)

# See available regions
list_sar_regions()
}
}
